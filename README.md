# ml-fred-pipeline
# Система прогнозирования инфляции (Inflation Forecasting)

## О чём этот проект
Я разработал систему, которая каждый день скачивает актуальные экономические данные из FRED (Federal Reserve Economic Data), обрабатывает их и строит прогноз инфляции на 6 месяцев вперёд. Всё это работает автоматически, а результат можно получить через веб-API.

## Зачем это нужно
Инфляция — ключевой экономический показатель, который влияет на ставки по кредитам, курс валют, цены акций и многое другое. Умение прогнозировать инфляцию полезно для аналитиков, трейдеров и всех, кто работает с финансами. Этот проект показывает, как можно автоматизировать сбор данных, построить модель и сделать её доступной для использования.

## Как работает мой проект

### 1. Сбор данных
Каждый день в 12:00 по UTC запускается Apache Airflow DAG, который обращается к API FRED и скачивает 8 ключевых показателей:
- **CPIAUCSL** — индекс потребительских цен (инфляция)
- **UNRATE** — уровень безработицы
- **FEDFUNDS** — ставка ФРС
- **M2SL** — денежная масса
- **SP500** — индекс S&P 500
- **DGS10** — доходность 10-летних облигаций
- **GDP** — ВВП
- **INDPRO** — промышленное производство

### 2. Обработка данных
Данные приходят с разной периодичностью (ежедневной, месячной, квартальной). Скрипт приводит их к единому месячному формату:
- Заполняет пропуски (методом forward fill)
- Делает ресемплинг к концу месяца
- Нормализует признаки (StandardScaler)

### 3. Признаки (feature engineering)
На основе очищенных данных создаются новые признаки:
- Лаги инфляции на 1, 3, 6, 12 месяцев назад
- Процентные изменения инфляции
- Скользящие средние
- Реальная процентная ставка (FEDFUNDS - инфляция)
- Спред доходности (DGS10 - FEDFUNDS)

### 4. Модель
Обучается RandomForestRegressor, который предсказывает значение инфляции через 6 месяцев. Модель сохраняется в файл, чтобы не переобучать каждый раз.

### 5. API
Через FastAPI можно отправить POST-запрос с текущими экономическими показателями и получить прогноз инфляции на полгода вперёд.

## Технологии, которые я использовал
- **Apache Airflow** — оркестрация ETL-пайплайна
- **Docker** — контейнеризация всех сервисов
- **PostgreSQL** — хранение данных и Feature Store
- **Pandas / NumPy** — обработка данных
- **Scikit-learn** — машинное обучение
- **FastAPI** — REST API для прогнозов
- **Matplotlib** — визуализация

## Как развернуть проект локально

### Требования
- Docker и Docker Compose
- Python 3.9+

### Установка
1. Клонировать репозиторий.
git clone git@github.com:artemrassemenok-hash/ml-fred-pipeline.git

2. Перейти в нужную дерикторию.
cd inflation-forecast

3. Активировать docker-compose.
docker-compose up -d

4. Открыть Airflow
Перейти по ссылке http://localhost:8080

5. Найти DAG fred_daily_working.

6. Переключить тумблер в положение ON

7. Установить зависимости для API
pip install -r requirements.txt

8. Запустить FastAPI сервис
python api.py